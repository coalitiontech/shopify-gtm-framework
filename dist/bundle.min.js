function domReady(t){document.addEventListener("DOMContentLoaded",t),"interactive"!==document.readyState&&"complete"!==document.readyState||t()}function ct_init_gtm_shopify(){let t,e={storefront_token:"",currency:"USD",shop_url:`${window.location.protocol}//${window.location.host}`,searchPagePath:"/search",template:"",customer:"",collectionTitle:"",productDetails:"",...window.ct_gtm_settings};if(void 0===e.storefront_token||"string"!=typeof e.storefront_token&&""!==e.storefront_token)return void console.error("You must provide a storefront token");void 0!==window.routes.cart_add_url&&void 0!==window.routes.cart_change_url&&void 0!==window.routes.cart_update_url||(window.routes={cart_add_url:"/cart/add",cart_change_url:"/cart/change",cart_update_url:"/cart/update"});let r=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");let r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};window.dataLayer=window.dataLayer||[];let n=["https://cdnjs.cloudflare.com/ajax/libs/xhook/1.4.9/xhook.min.js"];window.jQuery||(n=["https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js","https://cdnjs.cloudflare.com/ajax/libs/xhook/1.4.9/xhook.min.js"]),e.customer&&"object"==typeof e.customer&&gtmEcomm.identifyCustomer(e.customer);let o='a[href*="/products/"]:not([href*=".gif"]):not([href*=".png"]):not([href*=".jpg"]):not([href*=".svg"]):not([href*=".jpeg"]):not([href*=".php"]):not([href*=".js"]):not([href*=".css"])';new function(t,e){let r=this;r.files=t,r.js=[],r.head=document.getElementsByTagName("head")[0],r.after=e||function(){},r.loadStyle=function(t){let e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,r.head.appendChild(e)},r.loadScript=function(t){let e=document.createElement("script");e.type="text/javascript",e.src=r.js[t],e.onload=function(){++t<r.js.length?r.loadScript(t):r.after()},r.head.appendChild(e)};for(let t=0;t<r.files.length;t++)/\.js$|\.js\?/.test(r.files[t])&&r.js.push(r.files[t]),/\.css$|\.css\?/.test(r.files[t])&&r.loadStyle(r.files[t]);r.js.length>0?r.loadScript(0):r.after()}(n,function(){if(jQuery.getJSON(`${e.shop_url}/cart`,function(e){t={products:e.items.map(function(t){return{id:t.id,quantity:t.quantity}})},sessionStorage.getItem("ct-cart-contents")?n(t,JSON.parse(atob(sessionStorage.getItem("ct-cart-contents")))):sessionStorage.setItem("ct-cart-contents",btoa(JSON.stringify(t)))}),document.location.pathname===e.searchPagePath&&dataLayer.push({event:"search",pageType:"Search Results",searchTerm:r("q")}),document.querySelectorAll(o).length){let t=[],r={},n=[];[].forEach.call(document.querySelectorAll(o),function(t){r[t.getAttribute("href")]=t});for(let o in r){let i=r[o].getAttribute("href").split(/[?#]/)[0].split("/"),a=i[i.length-1],u=$.ajax({url:`${e.shop_url}/products/${a}.json`,success:function(e){let r=e.product.variants[0].id||e.product.id;t.push(r)}});n.push(u)}let i={};""!==e.collectionTitle&&"string"==typeof e.collectionTitle&&(i={list:e.collectionTitle}),$.when.apply(null,n).done(function(){gtmEcomm.productImpression(t,i)})}function n(e,r=t){if(r.products.length!==e.products.length)if(r.products.length<e.products.length){const t=e.products.reduce((t,e,n)=>(r.products.some(t=>t.id===e.id)||t.push(n),t),[]);for(let r=0;r<t.length;r++)gtmEcomm.addToCart(e.products[t[r]].id,e.products[t[r]].quantity)}else{const t=r.products.reduce((t,r,n)=>(e.products.some(t=>t.id===r.id)||t.push(n),t),[]);for(let e=0;e<t.length;e++)gtmEcomm.removeFromCart(r.products[t[e]].id,r.products[t[e]].quantity)}for(let t=0;t<e.products.length;t++)r.products.length===e.products.length&&e.products[t].quantity!==r.products[t].quantity&&(r.products[t].quantity<e.products[t].quantity?gtmEcomm.addToCart(e.products[t].id,e.products[t].quantity-r.products[t].quantity):r.products[t].quantity>e.products[t].quantity&&gtmEcomm.removeFromCart(e.products[t].id,r.products[t].quantity-e.products[t].quantity));sessionStorage.setItem("ct-cart-contents",btoa(JSON.stringify(e)))}$(o).click(function(){let t=$(this).attr("href").split(/[?#]/)[0].split("/"),r=t[t.length-1];$.ajax({url:`${e.shop_url}/products/${r}.json`,success:function(t){gtmEcomm.productClick(t.product.id)}})}),e.template.match(/.*product.*/gi)&&!e.template.match(/.*collection.*/gi)&&"string"==typeof e.productDetails&&""!==e.productDetails&&gtmEcomm.viewProductDetails(e.productDetails),window.Shopify&&window.Shopify.Checkout&&"thank_you"==window.Shopify.Checkout.step&&gtmEcomm.purchase(window.CHECKOUT_FOR_GTM_INSTRUMENTOR),xhook.after(function(t,r){let o=String(r.url),i=String(t.finalUrl),a=String(t.url);(o.includes(window.routes.cart_add_url)||o.includes(window.routes.cart_change_url)||o.includes(window.routes.cart_update_url)||i.includes(window.routes.cart_add_url)||i.includes(window.routes.cart_change_url)||i.includes(window.routes.cart_update_url)||a.includes(window.routes.cart_add_url)||a.includes(window.routes.cart_change_url)||a.includes(window.routes.cart_update_url))&&jQuery.getJSON(`${e.shop_url}/cart`,function(t){n({products:t.items.map(function(t){return{id:t.id,quantity:t.quantity}})})})})})}domReady(function(){!function(){return function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}}()({1:[function(t,e,r){e.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},{}],2:[function(t,e,r){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],3:[function(t,e,r){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],4:[function(t,e,r){function n(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}e.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,c,"next",t)}function c(t){n(a,o,i,u,c,"throw",t)}u(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],5:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],6:[function(t,e,r){var n=t("./setPrototypeOf.js"),o=t("./isNativeReflectConstruct.js");function i(t,r,a){return o()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(t,e,r){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return r&&n(i,r.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},{"./isNativeReflectConstruct.js":13,"./setPrototypeOf.js":17}],7:[function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],8:[function(t,e,r){e.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},e.exports.__esModule=!0,e.exports.default=e.exports},{}],9:[function(t,e,r){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},{}],10:[function(t,e,r){var n=t("./setPrototypeOf.js");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports},{"./setPrototypeOf.js":17}],11:[function(t,e,r){e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],12:[function(t,e,r){e.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],13:[function(t,e,r){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],14:[function(t,e,r){e.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],15:[function(t,e,r){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],16:[function(t,e,r){var n=t("./typeof.js").default,o=t("./assertThisInitialized.js");e.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},e.exports.__esModule=!0,e.exports.default=e.exports},{"./assertThisInitialized.js":3,"./typeof.js":19}],17:[function(t,e,r){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},{}],18:[function(t,e,r){var n=t("./arrayWithHoles.js"),o=t("./iterableToArrayLimit.js"),i=t("./unsupportedIterableToArray.js"),a=t("./nonIterableRest.js");e.exports=function(t,e){return n(t)||o(t,e)||i(t,e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},{"./arrayWithHoles.js":2,"./iterableToArrayLimit.js":14,"./nonIterableRest.js":15,"./unsupportedIterableToArray.js":20}],19:[function(t,e,r){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},{}],20:[function(t,e,r){var n=t("./arrayLikeToArray.js");e.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},{"./arrayLikeToArray.js":1}],21:[function(t,e,r){var n=t("./getPrototypeOf.js"),o=t("./setPrototypeOf.js"),i=t("./isNativeFunction.js"),a=t("./construct.js");function u(t){var r="function"==typeof Map?new Map:void 0;return e.exports=u=function(t){if(null===t||!i(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return a(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},{"./construct.js":6,"./getPrototypeOf.js":9,"./isNativeFunction.js":12,"./setPrototypeOf.js":17}],22:[function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof m?e:m,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(t,e,r){var n=p;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=l(t,e,r);if("normal"===c.type){if(n=r.done?h:f,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var p="suspendedStart",f="suspendedYield",d="executing",h="completed",y={};function m(){}function v(){}function b(){}var w={};c(w,i,function(){return this});var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,i)&&(w=x);var k=b.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function j(t,e){var r;this._invoke=function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then(function(t){r("next",t,a,u)},function(t){r("throw",t,a,u)}):e.resolve(p).then(function(t){s.value=t,a(s)},function(t){return r("throw",t,a,u)})}u(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function O(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function E(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return v.prototype=b,c(k,"constructor",b),c(b,"constructor",v),v.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},_(j.prototype),c(j.prototype,a,function(){return this}),t.AsyncIterator=j,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new j(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},_(k),c(k,u,"Generator"),c(k,i,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:E(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}("object"==typeof e?e.exports:{});try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},{}],23:[function(t,e,r){e.exports=t("regenerator-runtime")},{"regenerator-runtime":22}],24:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.productVariantFragment=r.fetchVariantQuery=r.fetchCheckoutQuery=r.fetchCartQuery=r.default=void 0;var o=n(t("@babel/runtime/regenerator")),i=n(t("@babel/runtime/helpers/inherits")),a=n(t("@babel/runtime/helpers/possibleConstructorReturn")),u=n(t("@babel/runtime/helpers/getPrototypeOf")),c=n(t("@babel/runtime/helpers/wrapNativeSuper")),s=n(t("@babel/runtime/helpers/slicedToArray")),l=n(t("@babel/runtime/helpers/defineProperty")),p=n(t("@babel/runtime/helpers/typeof")),f=n(t("@babel/runtime/helpers/asyncToGenerator")),d=n(t("@babel/runtime/helpers/classCallCheck")),h=n(t("@babel/runtime/helpers/createClass"));function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var o=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach(function(e){(0,l.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var b=function(){function t(e){(0,d.default)(this,t),null==e&&(e={});var r=e,n=r.disableEcommerceProperty,o=void 0!==n&&n,i=r.enableCheckoutEcommerceProperty,a=void 0===i||i;this.debug=!1,this.storeUrl=window.ct_gtm_settings.shop_url||"".concat(window.location.protocol,"//").concat(window.location.host),this.SHOPIFY_URL=window.ct_gtm_settings.shop_url||"".concat(window.location.protocol,"//").concat(window.location.host),this.storefrontToken=window.ct_gtm_settings.storefront_token,this.SHOPIFY_STOREFRONT_TOKEN=window.ct_gtm_settings.storefront_token,this.currencyCode=window.ct_gtm_settings.currency||"USD",this.disableEcommerceProperty=o,this.enableCheckoutEcommerceProperty=a,this.occurances=[]}return(0,h.default)(t,[{key:"productImpression",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r,n,i,a,u,c,s,l,f=this,d=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},n=r.el,i=r.list,a=r.position,u=[],"undefined"!=typeof window&&null!==window){t.next=4;break}return t.abrupt("return");case 4:if("object"!==(0,p.default)(e)||void 0!==e.name){t.next=14;break}c=0;case 6:if(!(c<e.length)){t.next=14;break}return t.next=9,this.getFlatVariant(e[c]);case 9:if(u[u.length]=t.sent){t.next=11;break}return t.abrupt("return");case 11:c++,t.next=6;break;case 14:for(n&&null==a&&(a=O(n)),s=0;s<u.length;s++)u[s]=this.makeUaProductFieldObject(u[s]);if(l=function(){return f.pushEvent("Product Impression",{listName:i,listPosition:a,ecommerce:{impressions:{items:u,list:i,position:a}}})},!n){t.next=21;break}return t.abrupt("return",P(n,l));case 21:return t.abrupt("return",l());case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"productClick",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r,n,i,a,u,c,s,l=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:{},n=r.el,i=r.list,a=r.position,u=r.clickEvent,"undefined"!=typeof window&&null!==window){t.next=3;break}return t.abrupt("return");case 3:return(c=C(null!=u?u.currentTarget:void 0,function(t){return t.href}))&&null!=u&&u.preventDefault(),t.next=6,this.getFlatVariant(e);case 6:if(s=t.sent){t.next=8;break}return t.abrupt("return");case 8:if(n&&null==a&&(a=O(n)),this.pushEvent("Product Click",v(v({},s),{},{listName:i,listPosition:a,ecommerce:{click:v(v({},i?{actionField:{list:i}}:{}),{},{products:[v(v({},this.makeUaProductFieldObject(s)),{},{position:a})]})}})),!c){t.next=12;break}return t.abrupt("return",window.location=c);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"viewProductDetails",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window&&null!==window){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getFlatVariant(e);case 4:if(r=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.abrupt("return",this.pushEvent("View Product Details",v(v({},r),{},{ecommerce:{detail:{products:[this.makeUaProductFieldObject(r)]}}})));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addToCart",value:function(t,e){return this.updateQuantity(t,e,"Add to Cart","add")}},{key:"removeFromCart",value:function(t,e){return this.updateQuantity(t,e,"Remove from Cart","remove")}},{key:"updateQuantity",value:function(){var t=(0,f.default)(o.default.mark(function t(e,r){var n,i,a,u=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:"Update Quantity",i=u.length>3?u[3]:void 0,"undefined"!=typeof window&&null!==window){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.getFlatVariant(e);case 6:if(a=t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.abrupt("return",this.pushEvent(n,v(v({},a),{},{quantity:r},i?{ecommerce:(0,l.default)({currencyCode:this.currencyCode},i,{products:[{items:this.makeUaProductFieldObject(a),quantity:r}]})}:{})));case 9:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"cartUpdated",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window&&null!==window){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getSimplifiedCheckout(e);case 4:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",this.pushEvent("Cart Updated",r));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"checkout",value:function(){var t=(0,f.default)(o.default.mark(function t(e,r){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window&&null!==window){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getSimplifiedCheckout(e);case 4:if(!(n=t.sent)){t.next=6;break}return t.abrupt("return",this.pushEvent("Checkout",v(v({checkoutStep:r},n),this.enableCheckoutEcommerceProperty?{ecommerce:{currencyCode:this.currencyCode,checkout:{actionField:{step:r},products:this.makeUaCheckoutProducts(n)}}}:{})));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"purchase",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof window&&null!==window){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getSimplifiedCheckout(e);case 4:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",this.pushEvent("Purchase",v(v({},r),this.enableCheckoutEcommerceProperty?{ecommerce:{currencyCode:this.currencyCode,purchase:{actionField:{id:"#"+r.orderNumber,revenue:r.totalPrice,tax:r.totalTax,shipping:r.totalShipping,coupon:r.discountCodes.join(",")},products:this.makeUaCheckoutProducts(r)}}}:{})));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"identifyCustomer",value:function(t){if("undefined"!=typeof window&&null!==window)return this.pushEvent("Identify Customer",{customerId:t.id,customerZip:t.zip,customerEmail:t.email})}},{key:"getFlatVariant",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r,n,i,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("object"!==(0,p.default)(e)&&"array"!=typeof e){t.next=24;break}for(n=0;n<e.length;n++)(void 0).push(e[n]);i=0;case 3:if(!(i<(void 0).length)){t.next=21;break}if(a=(void 0)[i],"object"!==(0,p.default)(a)){t.next=9;break}t.t0=a,t.next=12;break;case 9:return t.next=11,this.fetchVariant(a);case 11:t.t0=t.sent;case 12:if(!(r=t.t0)){t.next=17;break}(void 0)[i]=this.makeFlatVariant(r),t.next=18;break;case 17:return t.abrupt("return",console.error("Variant not found",a));case 18:i++,t.next=3;break;case 21:return t.abrupt("return",void 0);case 24:if("object"!==(0,p.default)(e)){t.next=28;break}t.t1=e,t.next=31;break;case 28:return t.next=30,this.fetchVariant(e);case 30:t.t1=t.sent;case 31:if(!(r=t.t1)){t.next=36;break}return t.abrupt("return",this.makeFlatVariant(r));case 36:return t.abrupt("return",console.error("Variant not found",e));case 37:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"fetchVariant",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return e=j(e),t.next=5,this.queryStorefrontApi({variables:{id:btoa("gid://shopify/ProductVariant/"+e)},query:g});case 5:return r=t.sent,t.abrupt("return",r.node);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"makeFlatVariant",value:function(t){var e,r,n,o=t.product;return n=void 0!==o.collections&&o.collections.length?o.collections.edges[0].node.title:"",{productId:j(o.id),productTitle:o.title,productVariantTitle:"".concat(o.title," - ").concat(t.title),productType:o.productType||o.type||n,productVendor:o.vendor,productUrl:e="".concat(this.storeUrl,"/products/").concat(o.handle),sku:t.sku,price:t.price,compareAtPrice:t.compareAtPrice,variantId:r=j(t.id),variantTitle:t.title,variantImage:(null!=t.image?t.image.originalSrc:void 0)||t.image,variantUrl:"".concat(e,"?variant=").concat(r)}}},{key:"makeUaProductFieldObject",value:function(t){return{id:t.sku,name:t.productVariantTitle,brand:t.productVendor,category:t.productType,variant:t.variantTitle,price:t.price}}},{key:"getSimplifiedCheckout",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("object"!==(0,p.default)(e)){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.fetchCheckout(e);case 6:t.t0=t.sent;case 7:if(r=t.t0){t.next=10;break}return t.abrupt("return",console.error("Checkout or Cart not found",e));case 10:return t.abrupt("return",this.makeSimplifiedCheckout(r));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"fetchCheckout",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r,n,i,a,u;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=atob(e).match(/gid:\/\/shopify\/(\w+)/),n=(0,s.default)(r,2),n[0],i=n[1],t.next=3,this.queryStorefrontApi({query:function(){switch(i){case"Cart":return x;case"Checkout":return k;default:throw"Unknown type: ".concat(i)}}(),variables:{id:e}});case 3:return a=t.sent,(u=a.node).estimatedCost&&(u.subtotalPrice=u.estimatedCost.subtotalAmount.amount,u.totalPrice=u.estimatedCost.totalAmount.amount),t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"makeSimplifiedCheckout",value:function(t){var e=this;return t.lineItems.edges&&(t.lineItems=t.lineItems.edges.map(function(t){return t.node})),{checkoutId:j(t.id),checkoutUrl:t.webUrl,subtotalPrice:t.subtotalPrice,totalPrice:t.totalPrice,lineItems:t.lineItems.map(function(t){return v({lineItemId:j(t.id),quantity:t.quantity},e.makeFlatVariant(t.variant))}),orderNumber:t.orderNumber,totalTax:t.totalTax,totalShipping:t.totalShipping,discountCodes:t.discountCodes||[]}}},{key:"makeUaCheckoutProducts",value:function(t){var e=this;return t.lineItems.map(function(t){return v({quantity:t.quantity},e.makeUaProductFieldObject(t))})}},{key:"queryStorefrontApi",value:function(){var t=(0,f.default)(o.default.mark(function t(e){var r,n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.testpayload=e,(r=new Headers).append("Accept","application/json"),r.append("Content-Type","application/json"),r.append("X-Shopify-Storefront-Access-Token",this.storefrontToken),t.next=7,fetch("".concat(this.storeUrl,"/api/2021-10/graphql"),{method:"POST",headers:r,body:JSON.stringify(e),redirect:"follow"}).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){throw console.log("error",t),new _(n.data.errors,e)});case 7:return n=t.sent,t.abrupt("return",n.data);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"pushEvent",value:function(t,e){return this.debug&&console.debug("'".concat(t,"'"),e),window.dataLayer||(window.dataLayer=[]),this.disableEcommerceProperty&&e.ecommerce?delete(e=v({},e)).ecommerce:window.dataLayer.push({ecommerce:null}),window.dataLayer.push(v({event:t,firstOccurance:this.isFirstOccurance(t)},e))}},{key:"isFirstOccurance",value:function(t){return!Array.from(this.occurances).includes(t)&&(this.occurances.push(t),!0)}}]),t}();r.default=b;var w="fragment variant on ProductVariant {\n\tid\n\tsku\n\ttitle\n\tprice\n\tcompareAtPrice\n\timage { originalSrc }\n\tproduct {\n\t\tid\n\t\ttitle\n\t\thandle\n\t\tproductType\n\t\tvendor\n\t\tcollections(first: 1) {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}";r.productVariantFragment=w;var g="query($id: ID!) {\n\tnode(id: $id) {\n\t\t...variant\n\t}\n}\n".concat(w);r.fetchVariantQuery=g;var x="query($id: ID!) {\n\tnode: cart(id: $id) {\n\t\t... on Cart {\n\t\t\tid\n\t\t\twebUrl: checkoutUrl\n\t\t\testimatedCost {\n\t\t\t\tsubtotalAmount { amount }\n\t\t\t\ttotalAmount { amount }\n\t\t\t}\n\t\t\tlineItems: lines (first: 250) {\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\t... on CartLine {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tquantity\n\t\t\t\t\t\t\tvariant: merchandise { ...variant }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n".concat(w);r.fetchCartQuery=x;var k="query($id: ID!) {\n\tnode(id: $id) {\n\t\t... on Checkout {\n\t\t\tid\n\t\t\twebUrl\n\t\t\tsubtotalPrice\n\t\t\ttotalPrice\n\t\t\tlineItems (first: 250) {\n\t\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\t\t... on CheckoutLineItem {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tquantity\n\t\t\t\t\t\t\tvariant { ...variant }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n".concat(w);r.fetchCheckoutQuery=k;var _=function(t){(0,i.default)(r,t);var e=y(r);function r(t,n){var o;return(0,d.default)(this,r),(o=e.call(this,t.map(function(t){return t.debugMessage||t.message}).join(", "))).errors=t.map(function(t){return JSON.stringify(t)}),o.payload=n,o}return(0,h.default)(r,null,[{key:"initClass",value:function(){this.prototype.name="StorefrontError"}}]),r}((0,c.default)(Error));_.initClass();var j=function(t){return String(t).match(/^\d+$/)?t:(t.match(/^gid:\/\//)||(t=atob(t)),C(t.match(/\/([^\/]+)$/),function(t){return t[1]}))},O=function(t){for(var e=1;null!==(t=t.previousElementSibling);)e++;return e},P=function(t,e){var r=new IntersectionObserver(function(t){if((0,s.default)(t,1)[0].isIntersecting)return r.disconnect(),e()});return r.observe(t)};function C(t,e){return null!=t?e(t):void 0}window.gtmEcomm=new b({currencyCode:window.ct_gtm_settings.currency}),window.Shopify&&window.Shopify.Checkout&&sessionStorage.removeItem("ct-cart-content")},{"@babel/runtime/helpers/asyncToGenerator":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":7,"@babel/runtime/helpers/defineProperty":8,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/slicedToArray":18,"@babel/runtime/helpers/typeof":19,"@babel/runtime/helpers/wrapNativeSuper":21,"@babel/runtime/regenerator":23}]},{},[24]),ct_init_gtm_shopify()});